<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="YiChing.CvHexagram">
    <StackLayout x:Name="stack">

        <!-- First column containing another stacklayout -->
        <StackLayout Orientation="Horizontal">
            <StackLayout>
                <!-- Dropdown for Hexagrams -->
                <Picker x:Name="hexagramPicker"
                        Title="Select Hexagram"
                        SelectedIndexChanged="OnHexagramSelected"/>

                <Editor x:Name="rtQuestion"
                        Text="{Binding QuestionText, Mode=TwoWay}"
                        HorizontalOptions="Fill"
                        HeightRequest="200"/>
                <StackLayout Orientation="Horizontal">
                    <StackLayout x:Name="stackHexagram"
                                 WidthRequest="200">
                        <Grid x:Name="gridHexagram"
                              WidthRequest="200">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="10"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                        </Grid>
                    </StackLayout>
                    <StackLayout x:Name="stackButtons">
                        <Button x:Name="btnYarrow"
                                Text="Yarrow Stalks"
                                BackgroundColor="DarkGreen">
                        </Button>

                        <!-- AI URL Picker -->
                        <Picker x:Name="aiUrlPicker"
                                Title="Select AI URL"
                                ItemsSource="{Binding Settings.SavedUrls}"
                                SelectedItem="{Binding SelectedAIUrl, Mode=TwoWay}"/>

                        <Button x:Name="btnCopy"
                                Text="to Clipboard">
                        </Button>

                        <Button x:Name="btnOpenAI"
                                Text="Consult AI"
                                Clicked="OnOpenAIClicked"
                                BackgroundColor="#0078D4">
                        </Button>
                        <Button x:Name="btnConfig"
                                Text="Configuration">
                        </Button>
                        <Button x:Name="btnClear"
                                Text="Clear"
                                BackgroundColor="DarkRed">
                        </Button>
                    </StackLayout>
                </StackLayout>
                <StackLayout>
                    <Editor x:Name="rtAnswer"
                            IsReadOnly="True"
                            HeightRequest="150"/>
                </StackLayout>
            </StackLayout>
            <!-- Right column containing Answers editor -->
        </StackLayout>

    </StackLayout>
</ContentView>
